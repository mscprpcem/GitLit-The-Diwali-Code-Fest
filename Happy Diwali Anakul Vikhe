name: ğŸ‡ Welcome Message â€“ GitLit

on:
  pull_request:
    types: [opened]

permissions:
  pull-requests: write
  contents: read

jobs:
  welcome:
    name: Greet First-Time Contributor
    runs-on: ubuntu-latest

    steps:
      # âœ… Step 1: Checkout (needed for context)
      - name: Checkout repository
        uses: actions/checkout@v3

      # âœ… Step 2: Install GitHub CLI
      - name: Setup GitHub CLI
        run: |
          sudo apt-get update -y
          sudo apt-get install -y gh

      # âœ… Step 3: Post a festive welcome comment
      - name: Send Welcome Message
        run: |
          echo "ğŸ’¬ Sending welcome message to PR #${{ github.event.pull_request.number }}"

          gh pr comment ${{ github.event.pull_request.number }} --body "ğŸª” **Welcome to GitLit â€“ The Diwali Code Fest!** ğŸ†  

          Thank you for joining our open-source celebration of lights and logic âœ¨  
          Before we merge your pull request:  
          â€¢ Make sure your project files are inside the **\`submissions/\` folder** ğŸ“  
          â€¢ Add a short **README.md** inside your submission if needed ğŸ“  
          â€¢ Double-check filenames (no spaces, use lowercase preferred)  

          _When everything looks good, the Auto-Merge bot will light up your PR soon!_ ğŸ”¥  

          Happy coding & Happy Diwali from the **Microsoft Student Club PRPCEM Ã— Global AI Amravati** ğŸ’«"
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
